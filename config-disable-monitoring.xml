<?xml version="1.0"?>
<agent
    xmlns="urn:proactive:agent:1.1:linux"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:proactive:agent:1.1:linux http://www.activeeon.com/public_content/schemas/proactive/agent/1.1/agent-linux.xsd">

    <config>
        <proactiveHome>/opt/proactive-node</proactiveHome>
        <javaHome>/opt/proactive-node/jre</javaHome>
        <jvmParameters>
            <param>-Dproactive.useIPaddress=true</param>
        </jvmParameters>
        <!-- cgroup must be available and configured to set memoryLimit
             <memoryLimit>1000</memoryLimit>
        -->

        <!-- Additional argument below will deactivate monitoring on the NodeManager so that
            no subsequent calls to sigar library are made. This disable the node status on
            resource manager but can avoid log error messages.
        -->
        <additionalCmdArgs>
            <param>-dm</param>
        </additionalCmdArgs>

        <!-- Number of runtimes (nodes) to start. Default is 1. Can also be configured on a per-event basis. -->
        <nbRuntimes>1</nbRuntimes>

        <!-- Number of workers per node. Empty means use as many workers per node as there are cores.
         Can also be configured on a per-event basis.-->
        <nbWorkers></nbWorkers>

        <protocol>pnp</protocol>
        <nice>19</nice>
        <!-- idle class required linux kernel >= 2.6.25
             <ionice class="idle"/>
        -->
    </config>

    <events>
        <event>
            <start day="Monday" hour="0"  minute="0" second="0" />
            <duration days="6" hours="23" minutes="59" seconds="59" />
        </event>
    </events>

    <connections>
        <localBind enabled="false"/>
        <rmConnection enabled="true">
            <respawnIncrement>10</respawnIncrement>
            <javaStarterClass>org.ow2.proactive.resourcemanager.utils.RMNodeStarter</javaStarterClass>
            <nodename>PA-AGENT_NODE</nodename>
            <!-- Empty URL means discovery is used -->
            <url></url>
            <credential>/opt/proactive-node/config/authentication/rm.cred</credential>
        </rmConnection>
    </connections>
</agent>
